<div class="container-fluid">
  <form [formGroup]="appInfoForm" novalidate>
    <div>
        <aside class="wb-fnote" role="note">
        <h2>{{'instruction.help'|translate}}</h2>
        <section><application-info-help-en></application-info-help-en></section>
      </aside>

      <div>
        <section class="panel panel-primary mrgn-tp-lg">
          <header class="panel-heading clearfix">
            <h2 class="panel-title">{{'application-info.load.file'|translate}}
              <sup id="ap1-rf">
                <a class="fn-lnk" href="#ap1"><span class="wb-inv">{{'instruction'|translate}}</span>1</a>
              </sup>
            </h2>
          </header>
          <div class="panel-body">
            <div class="row">
              <filereader (complete)="processFile($event)" [rootTag]="rootTagText"></filereader>
            </div>
          </div>
        </section>
      </div>

      <error-summary [hiddenSummary]="hideErrorSummary()" [errorList]="errorList" [headingLevel]="headingLevel"
                     headingPreamble="errorSummary.application-info"></error-summary>

      <div>
        <section class="panel panel-primary mrgn-tp-lg">
          <header class="panel-heading clearfix">
            <h2 class="panel-title">{{'heading.app-info'|translate}}
              <sup id="ap2-rf">
                <a class="fn-lnk" href="#ap2"><span class="wb-inv">{{'instruction'|translate}}</span>2</a>
              </sup>
            </h2>
          </header>
          <div class="panel-body">
            <app-info-details [showErrors]="showErrors" [countryList]="countryList" [lang]="lang"
                              [detailsChanged]="updateChild" [appInfoModel]="appInfoModel"
                              [deviceModel]="deviceModel" [materialModel]="materialModel"
                              (detailErrorList)="processDetailErrors($event)"
                              (deviceErrorList)="processDeviceErrors($event)"
                              (declarationConformity)="disableSaveXmlButton($event)"
                              (materialErrorList)="processMaterialtErrors($event)">
            </app-info-details>
          </div>
        </section>
      </div>
    </div>
    <div class="row btn-group-sm">
      <div class="form-group col-md-4">
        <button class="btn btn-default btn-lg active" (click)="saveWorkingCopyFile()" i18n>
          {{'save.working.copy'|translate}}
        </button>
      </div>
      <div class="form-group col-md-4">
        <button class="btn btn-primary btn-lg active" (click)="saveXmlFile()" [disabled]="disableSaveXml" i18n>
          {{'generate.final'|translate}}
        </button>
      </div>
    </div>
    <!--pre> myForm valid{{myForm.valid}}</pre>
    <pre> myForm{{myForm.value |json}}</pre-->
  </form>
</div>
